(function() {
  var menuActive, randColor;

  menuActive = false;

  this.toggleMenu = function() {
    if (menuActive) {
      $('#menu').removeClass('active');
    } else {
      $('#menu').addClass('active');
    }
    return menuActive = !menuActive;
  };

  $('#menu-toggle').click(toggleMenu);

  randColor = function() {
    return '#' + Math.floor(Math.random() * 16777215).toString(16);
  };

  this.randomizePalette = function() {
    return $('#menu .color_picker:not(.active)').each(function() {
      return $(this).css('background', randColor());
    });
  };

  $('.color_picker').click(function() {
    strip.colors.fg = $(this).css('background-color');
    $('.color_picker').removeClass('active');
    return $(this).addClass('active');
  });

  randomizePalette();

}).call(this);
