(function() {
  this.strip = {
    id: '',
    colors: {
      fg: 'black',
      bg: 'white'
    },
    tools: {
      size: 4
    },
    history: [],
    randColor: function() {
      return '#' + Math.floor(Math.random() * 16777215).toString(16);
    },
    randFg: function() {
      return this.colors.fg = this.randColor();
    },
    randBg: function() {
      return this.colors.bg = this.randColor();
    },
    resetColors: function() {
      this.colors.fb = 'black';
      return this.colors.bg = 'white';
    },
    resetCanvas: function() {
      this.canvas.removeChildren();
      this.history = [];
      return this.view.draw();
    },
    sizeUp: function() {
      if (this.tools.size < 60) {
        return this.tools.size += 1;
      }
    },
    sizeDown: function() {
      if (this.tools.size > 1) {
        return this.tools.size -= 1;
      }
    },
    cancelLast: function() {
      var last;
      last = this.history.pop();
      if (last != null) {
        last.remove();
      }
      return this.view.draw();
    },
    save: function() {
      var svg;
      svg = paper.project.exportSVG({
        asString: true
      });
      return $.post("/" + this.id, {
        strip: svg
      });
    }
  };

}).call(this);
